{"version":3,"file":"setValueByString.js","sourceRoot":"ng://@datorama/akita/","sources":["lib/setValueByString.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,QAAQ,EAAE,MAAM,YAAY,CAAC;AAEtC;;;;;GAKG;AACH,MAAM,UAAU,QAAQ,CAAC,GAAQ,EAAE,IAAY,EAAE,GAAQ,EAAE,OAAe;IAAf,wBAAA,EAAA,eAAe;IACxE,IAAM,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAE9B,IAAI,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;QACtB,6BAAY,GAAG,GAAK,GAAG,EAAG;KAC3B;IAED,GAAG,gBAAQ,GAAG,CAAE,CAAC;IAEjB,IAAM,SAAS,GAAG,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;IACnC,IAAM,eAAe,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;IAEjD,eAAe,CAAC,MAAM,CAAC,UAAC,GAAG,EAAE,IAAI,EAAE,KAAK;QACtC,IAAI,KAAK,KAAK,SAAS,EAAE;YACvB,GAAG,CAAC,IAAI,CAAC,gBAAQ,GAAG,CAAC,IAAI,CAAC,CAAE,CAAC;YAC7B,OAAO,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC;SACzB;QAED,GAAG,CAAC,IAAI,CAAC,GAAG,OAAO,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,uBAAM,GAAG,CAAC,IAAI,CAAC,GAAK,GAAG,CAAE,CAAC;QAEzG,OAAO,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC;IAC1B,CAAC,EAAE,GAAG,CAAC,CAAC;IAER,OAAO,GAAG,CAAC;AACb,CAAC","sourcesContent":["import { isObject } from './isObject';\n\n/**\n * @internal\n *\n * @example\n * setValue(state, 'todos.ui', { filter: {} })\n */\nexport function setValue(obj: any, prop: string, val: any, replace = false) {\n  const split = prop.split('.');\n\n  if (split.length === 1) {\n    return { ...obj, ...val };\n  }\n\n  obj = { ...obj };\n\n  const lastIndex = split.length - 2;\n  const removeStoreName = prop.split('.').slice(1);\n\n  removeStoreName.reduce((acc, part, index) => {\n    if (index !== lastIndex) {\n      acc[part] = { ...acc[part] };\n      return acc && acc[part];\n    }\n\n    acc[part] = replace || Array.isArray(acc[part]) || !isObject(acc[part]) ? val : { ...acc[part], ...val };\n\n    return acc && acc[part];\n  }, obj);\n\n  return obj;\n}\n"]}