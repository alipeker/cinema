{"version":3,"file":"toEntitiesObject.js","sourceRoot":"ng://@datorama/akita/","sources":["lib/toEntitiesObject.ts"],"names":[],"mappings":";AAEA,YAAY;AACZ,MAAM,UAAU,gBAAgB,CAAI,QAAa,EAAE,KAAa,EAAE,YAA6B;;IAC7F,IAAM,GAAG,GAAG;QACV,QAAQ,EAAE,EAAE;QACZ,GAAG,EAAE,EAAE;KACR,CAAC;;QAEF,KAAqB,IAAA,aAAA,SAAA,QAAQ,CAAA,kCAAA,wDAAE;YAA1B,IAAM,MAAM,qBAAA;YACf,uDAAuD;YACvD,IAAM,OAAO,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC;YACrC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC;YACvC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;SAC9B;;;;;;;;;IAED,OAAO,GAAG,CAAC;AACb,CAAC","sourcesContent":["import { PreAddEntity } from './types';\n\n// @internal\nexport function toEntitiesObject<E>(entities: E[], idKey: string, preAddEntity: PreAddEntity<E>) {\n  const acc = {\n    entities: {},\n    ids: []\n  };\n\n  for (const entity of entities) {\n    // evaluate the middleware first to support dynamic ids\n    const current = preAddEntity(entity);\n    acc.entities[current[idKey]] = current;\n    acc.ids.push(current[idKey]);\n  }\n\n  return acc;\n}\n"]}