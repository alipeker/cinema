{"version":3,"file":"toEntitiesObject.js","sourceRoot":"ng://@datorama/akita/","sources":["lib/toEntitiesObject.ts"],"names":[],"mappings":"AAEA,YAAY;AACZ,MAAM,UAAU,gBAAgB,CAAI,QAAa,EAAE,KAAa,EAAE,YAA6B;IAC7F,MAAM,GAAG,GAAG;QACV,QAAQ,EAAE,EAAE;QACZ,GAAG,EAAE,EAAE;KACR,CAAC;IAEF,KAAK,MAAM,MAAM,IAAI,QAAQ,EAAE;QAC7B,uDAAuD;QACvD,MAAM,OAAO,GAAG,YAAY,CAAC,MAAM,CAAC,CAAC;QACrC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,GAAG,OAAO,CAAC;QACvC,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;KAC9B;IAED,OAAO,GAAG,CAAC;AACb,CAAC","sourcesContent":["import { PreAddEntity } from './types';\n\n// @internal\nexport function toEntitiesObject<E>(entities: E[], idKey: string, preAddEntity: PreAddEntity<E>) {\n  const acc = {\n    entities: {},\n    ids: []\n  };\n\n  for (const entity of entities) {\n    // evaluate the middleware first to support dynamic ids\n    const current = preAddEntity(entity);\n    acc.entities[current[idKey]] = current;\n    acc.ids.push(current[idKey]);\n  }\n\n  return acc;\n}\n"]}